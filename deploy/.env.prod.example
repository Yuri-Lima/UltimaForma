# Production environment for deploy/
# Copy to .env.prod and fill values before deployment
#
# DNS for ultimaforma.id must point to this server's public IP.
# Traefik will obtain Let's Encrypt certs automatically.

# Docker image tag. Auto-generated by build-and-push.sh (YYYYMMDD.N) or set manually. Omit for latest.
IMAGE_TAG=20250224.1

# Domain (DNS must be configured)
DOMAIN=ultimaforma.id
API_SUBDOMAIN=api
APP_SUBDOMAIN=app
# Required: valid email for Let's Encrypt ACME (cert expiry notifications)
# Empty or invalid value causes: "unable to parse email address"
EMAIL_LETSENCRYPT=admin@ultimaforma.id

# Database
# DB_HOST must be 127.0.0.1 for deploy.sh migrations (runs on host; postgres exposed at localhost:5432).
# API containers get postgres/5432 from docker-compose internally.
DB_HOST=127.0.0.1
DB_PORT=5432
DB_USERNAME=postgres
# Use strong password in production: openssl rand -hex 16
DB_PASSWORD=changeme
DB_NAME=ultimaforma

# JWT (generate: openssl rand -hex 64)
JWT_SECRET=

# MFA encryption (32-byte hex)
MFA_SECRET_ENCRYPTION_KEY=

# Redis (containers use redis:6379 from compose; only password needed here)
# Use strong password in production: openssl rand -hex 16
REDIS_PASSWORD=changeme

# OpenAI (rotate key if previously used in development)
OPENAI_API_KEY=
